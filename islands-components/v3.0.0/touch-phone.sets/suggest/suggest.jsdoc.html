<!DOCTYPE html><html class="i-ua_js_no i-ua_css_standard"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>suggest</title><link rel="shortcut icon" href="/favicon.ico"/><script>;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);</script><meta name="description" content="TODO"/><!--[if gt IE 9]><!--><link rel="stylesheet" href="../jscatalogue/_jscatalogue.css"/><!--<![endif]--><!--[if lte IE 9]><link rel="stylesheet" href="_index.ie.css"/><![endif]--><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,600&amp;subset=latin,cyrillic"/></head><body class="b-page b-page__body"><div class="jsdoc"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок suggest</span></div><ul class="jsdoc__toc"><li><a href="#suggest-desc">Описание</a><ul><li><a href="#suggest-jsparams">JS-параметры</a></li><li><a href="#suggest-methods">Методы</a><ul><li><a href="#suggest-method-destruct">destruct</a></li><li><a href="#suggest-method-getDefaultParams">getDefaultParams</a></li><li><a href="#suggest-method-getPopupBlock">getPopupBlock</a></li><li><a href="#suggest-method-updateTop">updateTop</a></li><li><a href="#suggest-method-redraw">redraw</a></li><li><a href="#suggest-method-_getProvider">_getProvider</a></li><li><a href="#suggest-method-_buildItems">_buildItems</a></li></ul></li><li><a href="#suggest-events">События</a><ul><li><a href="#suggest-event-data-requested">data-requested</a></li><li><a href="#suggest-event-created">created</a></li><li><a href="#suggest-event-data-received">data-received</a></li><li><a href="#suggest-event-update-items">update-items</a></li><li><a href="#suggest-event-select">select</a></li><li><a href="#suggest-event-complete">complete</a></li></ul></li></ul></li></ul><div class="jsdoc__bem-block"><a name="suggest-desc"><h2 class="heading heading_level_2">Описание</h2></a><div class="jsdoc__description"><p>Саджест – поисковая подсказка.</p>
<p>Появляется после первых введенных букв при формулировке поискового запроса.
Состоит из элементов поисковой подсказки (блок suggest-item).
Используется для экономии времени на формулировку запроса.
Блок не имеет DOM-представления, создаётся и подключается с помощью BEM.create()</p>
<p>После ввода хотя бы одного символа или клика в поле ввода поискового запроса
создаётся блок <code>popup</code> (DOM-узлы) и вся работа с DOM идёт через него.</p>





</div><div class="jsdoc__js-params"><a name="suggest-jsparams"><h3 class="heading heading_level_3">JS-параметры</h3></a><ul class="jsdoc__params-section"><li class="jsdoc__param"><code class="jsdoc__param-name">params.owner</code><code class="jsdoc__param-type">BEM</code><span class="jsdoc__param-desc"><p>Блок для которого появляются подсказки.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.input</code><code class="jsdoc__param-type">BEM</code><span class="jsdoc__param-desc"><p>Блок ввода для запроса, например блок input.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.url</code><code class="jsdoc__param-type">String</code><span class="jsdoc__param-desc"><p>Адрес сервера, источника данных для подсказок.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.name</code><code class="jsdoc__param-type">String</code><span class="jsdoc__param-desc"><p>Название дата-провайдера, который подгототавливает данных от сервера.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.suggest</code><code class="jsdoc__param-type">Object</code><span class="jsdoc__param-desc"><p>Дополнительные параметры для подсказок http://nda.ya.ru/3QTLT9.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.mods</code><code class="jsdoc__param-type">Object</code><span class="jsdoc__param-desc"><p>Модификаторы саджеста, передаваемые в popup в котором строятся подсказки.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.label</code><code class="jsdoc__param-type">String</code><span class="jsdoc__param-desc"><p>Указатель на блок service-label.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.cache</code><code class="jsdoc__param-type">Boolean</code><span class="jsdoc__param-desc"><p>Флаг, указывающий кешировать или нет результаты запроса к серверу.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.updateOnEnter</code><code class="jsdoc__param-type">Boolean</code><span class="jsdoc__param-desc"><p>Обновлять строку-запрос при перемещении по элементам саджеста клавишами ↑↓.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.debounceDelay</code><code class="jsdoc__param-type">Number</code><span class="jsdoc__param-desc"><p>Таймаут на изменения подсказки при быстром наборе запроса, ms.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">params.showListOnFocus</code><code class="jsdoc__param-type">Boolean</code><span class="jsdoc__param-desc"><p>Флаг показа списка подсказок по фокусу мыши.</p></span></li></ul></div><div class="jsdoc__methods"><a name="suggest-methods"><h3 class="heading heading_level_3">Методы</h3></a><div class="jsdoc__method"><a name="suggest-method-destruct"><h4 class="heading heading_level_4">destruct</h4></a><div class="jsdoc__method-description"><p>Уничтожает сам блок.
Уничтожает связанный блок popup.</p>
<p>Выключает прослушивание события tap.suggest на элементе document.
Уничтожает сам блок.</p>
</div></div><div class="jsdoc__method"><a name="suggest-method-getDefaultParams"><h4 class="heading heading_level_4">getDefaultParams</h4></a><div class="jsdoc__protected">PROTECTED</div><div class="jsdoc__method-description"><p>Возвращает параметры блока по умолчанию с добавлением параметров
cache, updateOnEnter, debounceDelay, showListOnFocus.</p>
<p>Возвращает параметры блока по умолчанию c добавлением значения
задержки обновления саджеста по нажатию Backspace.</p>
</div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">Object<div class="jsdoc__returns-description"></div></div></div></div><div class="jsdoc__method"><a name="suggest-method-getPopupBlock"><h4 class="heading heading_level_4">getPopupBlock</h4></a><div class="jsdoc__method-description"><p>Возвращает блок всплывающего окошка.</p>
<p>Обычно это блок popup.</p>
</div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">BEM.DOM<div class="jsdoc__returns-description"></div></div></div></div><div class="jsdoc__method"><a name="suggest-method-updateTop"><h4 class="heading heading_level_4">updateTop</h4></a><div class="jsdoc__method-description"><p>Обновляет позицию окошка на странице.</p>
<p>Окошко всегда позиционируется под шапкой owner.</p>
</div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">Block<div class="jsdoc__returns-description"></div></div></div></div><div class="jsdoc__method"><a name="suggest-method-redraw"><h4 class="heading heading_level_4">redraw</h4></a><div class="jsdoc__method-description"><p>Обновить окошко с подсказками после асинхронной перезагрузки страницы.</p>
</div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">Block<div class="jsdoc__returns-description"></div></div></div></div><div class="jsdoc__method"><a name="suggest-method-_getProvider"><h4 class="heading heading_level_4">_getProvider</h4></a><div class="jsdoc__protected">PROTECTED</div><div class="jsdoc__method-description"><p>Создаёт или возвращает ранее созданного провайдера.</p>
<p>Провайдер представлен блоком suggest__provider.</p>
</div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">BEM<div class="jsdoc__returns-description"></div></div></div></div><div class="jsdoc__method"><a name="suggest-method-_buildItems"><h4 class="heading heading_level_4">_buildItems</h4></a><div class="jsdoc__static">STATIC</div><div class="jsdoc__protected">PROTECTED</div><div class="jsdoc__method-description"><p>Создаёт элементы подсказки.</p>
</div><div class="jsdoc__method-params"><h5 class="heading heading_level_5">Параметры</h5><ul class="jsdoc__params-section"><li class="jsdoc__param"><code class="jsdoc__param-name">items</code><code class="jsdoc__param-type">Array</code><span class="jsdoc__param-desc"><p>— данные от сервера</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">meta</code><code class="jsdoc__param-type">Array</code><span class="jsdoc__param-desc"><p>— мета-информация от сервера</p></span></li></ul></div><div class="jsdoc__method-returns"><h5 class="heading heading_level_5">Возвращаемое значение</h5><div class="jsdoc__returns">Object<div class="jsdoc__returns-description"><p>BEMJSON</p></div></div></div></div></div><div class="jsdoc__events"><a name="suggest-events"><h3 class="heading heading_level_3">События</h3></a><a name="suggest-event-data-requested"><h4 class="heading heading_level_4">data-requested</h4></a><div class="jsdoc__event-desc"><p>Генерируется перед отправкой данных.</p></div><a name="suggest-event-created"><h4 class="heading heading_level_4">created</h4></a><div class="jsdoc__event-desc"><p>Генерируется после создания подсказки.</p></div><a name="suggest-event-data-received"><h4 class="heading heading_level_4">data-received</h4></a><div class="jsdoc__event-desc"><p>Генерируется после получения данных.</p></div><h5 class="heading heading_level_5">Параметры</h5><ul class="jsdoc__params-section"><li class="jsdoc__param"><code class="jsdoc__param-name">data</code><code class="jsdoc__param-type">Object</code><span class="jsdoc__param-desc"><p>Данные, полученные от провайдера.</p></span></li></ul><a name="suggest-event-update-items"><h4 class="heading heading_level_4">update-items</h4></a><div class="jsdoc__event-desc"><p>Генерируется в момент, когда был показан новый набор подсказок.</p></div><a name="suggest-event-select"><h4 class="heading heading_level_4">select</h4></a><div class="jsdoc__event-desc"><p>Генерируется в момент выбора элемента, строки подсказки.</p></div><h5 class="heading heading_level_5">Параметры</h5><ul class="jsdoc__params-section"><li class="jsdoc__param"><code class="jsdoc__param-name">item</code><code class="jsdoc__param-type">BEM.DOM</code><span class="jsdoc__param-desc"><p>Выбранный элемент подсказки, suggest-item.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">itemIndex</code><code class="jsdoc__param-type">Number</code><span class="jsdoc__param-desc"><p>Позиция подсказки в массиве подсказок.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">pos</code><code class="jsdoc__param-type">Number</code><span class="jsdoc__param-desc"><p>Позиция курсора-каретки в поле ввода на последний запрос к серверу.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">meta</code><code class="jsdoc__param-type">Object</code><span class="jsdoc__param-desc"><p>Мета-информация, полученная от сервера при последнем запросе.</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">byKeyboard</code><code class="jsdoc__param-type">Boolean</code><span class="jsdoc__param-desc"><p>Флаг, выбрана ли подсказка при помощи клавиатуры.</p></span></li></ul><a name="suggest-event-complete"><h4 class="heading heading_level_4">complete</h4></a><div class="jsdoc__event-desc"><p>Саджест с автодополнением текста подсказки</p></div><h5 class="heading heading_level_5">Параметры</h5><ul class="jsdoc__params-section"><li class="jsdoc__param"><code class="jsdoc__param-name">params.backspaceDelay</code><code class="jsdoc__param-type">String</code><span class="jsdoc__param-desc"><p>задержка обновления саджеста по нажатию Backspace, ms</p>
<p>Генерируется в момент, когда пользователь клавишей <code>вправо</code> выбрал предложенную саджестом подсказку</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">usage</code><code class="jsdoc__param-type">String</code><span class="jsdoc__param-desc"><p>варинат элемента управления, которым была выбрана подсказка, mouse, tab, arrow</p></span></li><li class="jsdoc__param"><code class="jsdoc__param-name">chars</code><code class="jsdoc__param-type">Number</code><span class="jsdoc__param-desc"><p>количество символов в строке-дополнении</p></span></li></ul></div></div></div><script src="../jscatalogue/_jscatalogue.js"></script></body></html>